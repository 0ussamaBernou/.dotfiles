#!/bin/env bash

while getopts ":o" opt; do
    case $opt in
        o)
            # option -o present
            # output=$OPTARG
            gcc -Wall -pedantic -Werror -Wextra -std=gnu89 $@
            ;;
        \?)
            echo "Invalid option: -$OPTARG"
            echo "Usage: $(basename "$0") [-o]"
            exit 1
            ;;
    esac
done

# Move the pointer to the next argument after processing options (if any)
shift $((OPTIND - 1))

# option -o not present
if [ $OPTIND -eq 1 ]; then
    gcc -Wall -pedantic -Werror -Wextra -std=gnu89 "$@"  -o ${1%.c}
# else
#     gcc -Wall -pedantic -Werror -Wextra -std=gnu89 "$@"  -o "$output"
fi
